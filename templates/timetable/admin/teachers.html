<div>
    <div class="modal fade" id="Modal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <form class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ModalLabel">Ajouter un Professeur</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row row-cols-1 row-cols-lg-2 flex-wrap">
                        <div class="form-group">
                            <label class="position-relative text-muted w-100">Lastname
                                <input name="lastname" type="text" class="form-control">
                                <span class="position-absolute top-50 end-5"><i
                                        class="mdi mdi-account-circle"></i></span>
                            </label>
                        </div>
                        <div class="form-group mt-3 mt-lg-0">
                            <label class="position-relative text-muted w-100">Firstname
                                <input name="firstname" type="text" class="form-control">
                                <span class="position-absolute top-50 end-5"><i
                                        class="mdi mdi-account-circle"></i></span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group my-3">
                        <label class="position-relative text-muted w-100">Email
                            <input name="email" type="email" class="form-control">
                            <span class="position-absolute top-50 end-5"><i class="mdi mdi-email"></i></span>
                        </label>
                    </div>
                    <div class="row row-cols-1 row-cols-lg-2 flex-wrap">
                        <div class="form-group">
                            <label class="position-relative text-muted w-100">Phone
                                <input name="phone" type="tel" class="form-control">
                                <span class="position-absolute top-50 end-5"><i class="mdi mdi-phone"></i></span>
                            </label>
                        </div>
                        <div class="form-group mt-3 mt-lg-0">
                            <label class="position-relative text-muted w-100">Password
                                <input name="password" type="password" class="form-control">
                                <span class="position-absolute top-50 end-5"><i class="mdi mdi-eye"></i></span>
                            </label>
                            <span class="small text-danger">Notez le mot de passe avant de soumettre le
                                formulaire</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                    <button type="submit" class="btn btn-primary action-text">Ajouter</button>
                </div>
            </form>
        </div>
    </div>
    <div class="d-flex justify-content-between">
        <div class="page-title">
            <h4>Professeurs</h4>
        </div>
        <div class="page-path">
            <a href="/" class="text-black">Home</a>
            <span class="mx-1">/</span>
            <a href='#' class="text-black">Teachers</a>
        </div>
    </div>
    <div class="mt-5">
        <div class="mb-5 text-end">
            <button class="btn fd-bg-primary text-white shadow-sm" data-bs-toggle="modal"
                data-bs-target="#Modal">Ajouter un professeur</button>
        </div>
        <div class="table-responsive">
            <table id="table" class="table table-striped table-responsive" style="width: 100%">
                <thead>
                    <tr>
                        <th class="text-center">Nom</th>
                        <th class=" text-center">Prénom(s)</th>
                        <th class=" text-center">Phone</th>
                        <th class=" text-center">Email</th>
                        <th class=" text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Les données des cours seront ajoutées ici dynamiquement -->
                </tbody>
            </table>
        </div>
    </div>
    <script>

        $(document).ready(function () {

            const tests = [
                { lastname: "John", firstname: "SALAOU", phone: '+22996457545', email: "test@example.com" },
                { lastname: "Michael", firstname: "Malcom", phone: '+22996457545', email: "test@example.com" },
                { lastname: "Jennifer", firstname: "lAWSOM", phone: '+22996457545', email: "test@example.com" },
                { lastname: "Kabirou", firstname: "KABA", phone: '+22996457545', email: "test@example.com" },
                { lastname: "LISA", firstname: "GILES", phone: '+22996457545', email: "test@example.com" }
            ];
            // Initialiser DataTables
            $('#table').DataTable({
                data: tests,
                language: langueOptions,
                columns: [
                    { data: 'lastname' },
                    { data: 'firstname' },
                    { data: 'phone' },
                    { data: 'email' },
                    {
                        data: null,
                        render: function (data, type, row) {
                            return `
                                <div class="d-flex gap-2 justify-content-center">
                                    <a href="javascript:void(0)" class="fd-bg-silver text-center shadow-sm fd-color-secondary rounded-5 btn-action" data-bs-toggle="modal" data-bs-target="#Modal"
                data-bs-whatever='${JSON.stringify(data)}'>
                                        <i class="mdi mdi-pen"></i>
                                    </a>
                                    <a href="javascript:void(0)" class="fd-bg-silver text-center  shadow-sm text-danger rounded-5 btn-action">
                                        <i class="mdi mdi-trash-can"></i>
                                    </a>
                                </div>
                            `;
                        }
                    }
                ]
            }
            );

            const modal = document.getElementById('Modal')
            modal.addEventListener('show.bs.modal', function (event) {
                // Button that triggered the modal
                const button = event.relatedTarget
                // Extract info from data-bs-* attributes
                const recipient = JSON.parse(button.getAttribute('data-bs-whatever'))
                // If necessary, you could initiate an AJAX request here
                // and then do the updating in a callback.
                //
                // Update the modal's content.
                const modalTitle = modal.querySelector('.modal-title')
                const actionText = modal.querySelector('.action-text')
                const inputs = modal.querySelectorAll('.modal-body input')

                console.log(recipient)

                modalTitle.textContent = 'Modifier'

                actionText.textContent = 'Modifier'

                for (const input of inputs) {

                    for (const value in recipient) {

                        if (input.name == value) {

                            input.value = recipient[value]
                        }
                    }
                }
            })
        });

    </script>
</div>