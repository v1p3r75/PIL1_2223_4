<div>
    <div class="d-flex justify-content-between">
        <div class="page-title">
            <h4>Emplois du Temps</h4>
        </div>
        <div class="page-path">
            <a href={% url 'admin-dashboard' %} class="text-black">Home</a>
            <span class="mx-1">/</span>
            <a href="javascript:void(0)" class="text-black">Emploi</a>
        </div>
    </div>
    {% if current_week %}
        <h5 class="text-muted text-center text-decoration-underline mt-4">Emploi de cette semaine</h5>
    {% else %}
        <h5 class="text-muted text-center text-decoration-underline mt-4">Emploi de la semaine {% for t in timetables %}{{ t.week }}{% endfor %}</h5>
    {% endif %}
    <div class="timetable my-5"></div>
    <hr>
    <div class="container-fluid">
        <h5 class="text-muted text-center text-decoration-underline mt-4">Toutes les semaines disponibles</h5>
        <div class="row others-timetables mt-5 flex-nowrap overflow-scroll gap-3">
            {% for others in others_timetables %}
            
                <a href="#{% url 'timetables-week' others.week %}" class="d-block text-center text-white-50 rounded-2 fd-bg-secondary col col-6 col-lg-2 p-3">
                Semaine {{ others.week }}
                </a>
            {% endfor %}
        </div>
    </div>

<div>
<script>
    $(document).ready(() => {
        const timetable = new Timetable();

        timetable.setScope(7,19)

        const options = { onClick: function(event) {
            window.alert('You clicked on the ' + event.name + ' event in ' + event.location + '. This is an example of a click handler');
        }}

        timetable.addLocations(['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche']);

        {% for timetable in  timetables %}
            {% for day in timetable.days %}
                timetable.addEvent('{{ day.subject }} - {{ day.user }}', '{{ day.day_name }}', new Date( '{{ day.start_time }}' ), new Date( '{{ day.end_time }}' ), options);
            {% endfor %}
        {% endfor %}
        let renderer = new Timetable.Renderer(timetable);
        renderer.draw('.timetable');
    })
</script>
<style>
.time-entry { background-color: var(--fd-color-primary)!important; border: none!important}
</style>